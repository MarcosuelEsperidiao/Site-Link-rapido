<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento de Barbearia</title>
    <link rel="stylesheet" href="pag2.agendar.css">
</head>
<body>
  <main>
    
    <section class="corpo">
      <div class="cliente">
        <div>
          <h1>Escolha o Profissional</h1>
        </div>
      </div>
    </section>
    <!--escolha o profissional-->
  <div class="par">
      <div class="imagem1">
          <img src="assets/corte1.png" alt="Marcos" onclick="selecionarImagem(this)">
          
      </div>
      
      <div class="imagem2">
          <img src="assets/corte3.png" alt="Victor" onclick="selecionarImagem(this)">
      </div>
      
  </div>

  
  <div class="par">
      <div class="imagem1">
          <img src="assets/corte2.png" alt="Samy" onclick="selecionarImagem(this)">
      </div>
      <div class="imagem2">
          <img src="assets/corte1.png" alt="Luiz" onclick="selecionarImagem(this)">
      </div>
  </div>

  <!-- Div para exibir a imagem selecionada-->
  <div id="imagem-selecionada" class="imagem-selecionada"></div>

  <!-- Div para mostrar o nome da imagem selecionada -->
  <div id="nome-imagem-selecionada" class="nome-imagem-selecionada"></div>

  <!-- Botão para avançar -->
<div class="btn-info">
  <div class="btn1" >
    <a href="agendar.html" target="_self"> <button id="btn-next" onclick="enviarInformacoes()">Voltar</button></a>
  </div>

  <!--Botão para voltar-->
  <div class="btn2" >
    <a href="pag3.agendar.html" target="_self"> <button id="btn-next" onclick="enviarInformacoes()">Avançar</button></a>
  </div>
</div>

<script>

  function selecionarImagem(imagem) {
      var divs = document.querySelectorAll('.par div'); // Seleciona todas as divs dentro de .par
      divs.forEach(function(div) {
          if (div.querySelector('img') !== imagem) { // Desmarca todas as outras divs
              div.classList.remove("selecionada");
          }
      });
      imagem.parentElement.classList.toggle("selecionada"); // Seleciona a div pai da imagem clicada

      // Atualiza a imagem mostrada na parte inferior da tela
      var imagemSelecionada = document.getElementById("imagem-selecionada");
      imagemSelecionada.innerHTML = ''; // Limpa qualquer conteúdo anterior
      var novaImagem = document.createElement("img");
      novaImagem.src = imagem.src;
      novaImagem.alt = imagem.alt;
      imagemSelecionada.appendChild(novaImagem);

      // Mostra o nome da imagem selecionada
      var nomeImagemSelecionada = document.getElementById("nome-imagem-selecionada");
      nomeImagemSelecionada.textContent = imagem.alt;

    }


  function enviarInformacoes() {
            // Obtém o profissional selecionado
            var profissionalSelecionado = document.querySelector('.par .selecionada img');
            var profissionalNome = profissionalSelecionado ? profissionalSelecionado.alt : '';

            // Armazena o profissional selecionado no localStorage
            localStorage.setItem('imagem-selecionada', profissionalNome);
        }



        //teste//

        function enviarInformacoes() {
    // Obtém o profissional selecionado
    var profissionalSelecionado = document.querySelector('.par .selecionada img');
    var profissionalNome = profissionalSelecionado ? profissionalSelecionado.alt : '';

    // Verifica qual imagem foi selecionada e define os horários correspondentes
    var horariosDisponiveis;
    switch (profissionalNome) {
        case 'Marcos':
            horariosDisponiveis = ["09:00","10:00", "11:00", "12:00"];
            break;
        case 'Victor':
            horariosDisponiveis = ["10:00", "11:00", "12:00"];
            break;
        case 'Samy':
            horariosDisponiveis = ["11:00", "12:00", "13:00"];
            break;
        case 'Luiz':
            horariosDisponiveis = ["12:00", "13:00", "14:00"];
            break;
        default:
            horariosDisponiveis = [];
    }

    // Armazena o profissional selecionado e os horários disponíveis no localStorage
    localStorage.setItem('imagem-selecionada', profissionalNome);
    localStorage.setItem('horarios-disponiveis', JSON.stringify(horariosDisponiveis));
}


</script>
</body>
</html>